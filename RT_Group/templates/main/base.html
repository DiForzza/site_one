<!doctype html>
{% load static %}
<html lang="ru">
<head>
	<link rel="icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon" />
	<link rel="shortcut icon" href="{% static 'img/favicon.ico' %}" type="image/x-icon" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
	<link rel="stylesheet" href="{% static 'css/main.css' %}">
    <title>{{ title }}</title>
</head>
<body>
<div class="layer1">
	<div>
		<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
			<div class="container-fluid">
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarCollapse">
					<ul class="navbar-nav me-auto mb-2 mb-md-0">
						{% with request.resolver_match.url_name as url_name %}
						<li class="nav-item">
							<a class="nav-link {% if url_name == 'home' %}active{% endif %}" aria-current="page" href="{% url 'main:home' %}">Главная</a>
						</li>
						<li class="nav-item">
							<a class="nav-link {% if url_name == 'about' %}active{% endif %}" href="{% url 'main:about' %}" >О нас</a>
						</li>
						<li class="nav-item">
							<a class="nav-link {% if url_name == 'testpage' %}active{% endif %}" href="{% url 'main:testpage' %}" tabindex="-1" aria-disabled="true">Test Page</a>
						</li>
						{% if user.is_authenticated %}
						<li>
							<a class="nav-link {% if url_name == 'add_news' %}active{% endif %}" href="{% url 'main:add_news'%}?next={{request.path}}" tabindex="-1" aria-disabled="true">Добавить новость</a>
						</li>
						{% endif %}
						{% endwith %}
					</ul>
				</div>
				<h6 align="right" style="color:White">
				{% if user.is_authenticated %}
					{{ user.get_full_name }}
					<a href="{% url 'main:logout'%}">Logout</a>
				{% else %}
					<a href="{% url 'main:login'%}">Login</a>
				{% endif %}
				<br>
				{{response}}
				</h6>
			</div>
		</nav>
	</div>
		<div class="container_custom">
			<div class="side_column" role="radio">
				<p>Задача организации, в особенности же укрепление и развитие структуры обеспечивает широкому кругу (специалистов) участие в формировании новых предложений. Разнообразный и богатый опыт реализация намеченных плановых заданий требуют от нас анализа систем массового участия. Значимость этих проблем настолько очевидна, что сложившаяся структура организации представляет собой интересный эксперимент проверки форм развития. Задача организации, в особенности же постоянный количественный рост и сфера нашей активности играет важную роль в формировании новых предложений. Значимость этих проблем настолько очевидна, что начало повседневной работы по формированию позиции обеспечивает широкому кругу (специалистов) участие в формировании системы обучения кадров, соответствует насущным потребностям.</p> <p>Задача организации, в особенности же укрепление и развитие структуры обеспечивает широкому кругу (специалистов) участие в формировании новых предложений. Разнообразный и богатый опыт реализация намеченных плановых заданий требуют от нас анализа систем массового участия. Значимость этих проблем настолько очевидна, что сложившаяся структура организации представляет собой интересный эксперимент проверки форм развития.</p> <p>Задача организации, в особенности же укрепление и развитие структуры обеспечивает широкому кругу (специалистов) участие в формировании новых предложений. Разнообразный и богатый опыт реализация намеченных плановых заданий требуют от нас анализа систем массового участия. Значимость этих проблем настолько очевидна, что сложившаяся структура организации представляет собой интересный эксперимент проверки форм развития. Задача организации, в особенности же постоянный количественный рост и сфера нашей активности играет важную роль в формировании новых предложений. Значимость этих проблем настолько очевидна, что начало повседневной работы по формированию позиции обеспечивает широкому кругу (специалистов) участие в формировании системы обучения кадров, соответствует насущным потребностям.</p>
			</div>
			<div class="central_column" role="alert">
				<h3 align="center">{{ time|date:"l d F Y"}}</h3>

				{% if not current_url == 'testpage' %}
					{% include "main/carousel.html"  %}
				{% endif %}
				{% block auth %}{% endblock %}
				{% block tasks %}{% endblock %}
				{% block map %}{% endblock %}
				{% block email %}{% endblock %}
			</div>
			<div class="side_column">
				<p>Задача организации, в особенности же укрепление и развитие структуры обеспечивает широкому кругу (специалистов) участие в формировании новых предложений. Разнообразный и богатый опыт реализация намеченных плановых заданий требуют от нас анализа систем массового участия. Значимость этих проблем настолько очевидна, что сложившаяся структура организации представляет собой интересный эксперимент проверки форм развития. Задача организации, в особенности же постоянный количественный рост и сфера нашей активности играет важную роль в формировании новых предложений. Значимость этих проблем настолько очевидна, что начало повседневной работы по формированию позиции обеспечивает широкому кругу (специалистов) участие в формировании системы обучения кадров, соответствует насущным потребностям.</p>
			</div>
		</div>
	    <h1 style=”color:blue” id =”testpage”>{{ text }}</h1>
</div>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	 crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
	 crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
	 crossorigin="anonymous"></script>
</body>
	<script>
	var socket = new WebSocket('ws://localhost:80/testpage/');

	socket.onmessage = function(event) {
		var data = JSON.parse(event.data);
		console.log(data);
		document.querySelector("#testpage").innerText = data.timeValue;
	}
	</script>
</html>

